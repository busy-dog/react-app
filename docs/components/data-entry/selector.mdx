# Selector 选择器

> 选择组件用于从选项列表中收集用户提供的信息。

使用 `import { ISelector } from "@/components";`

源码 `components/widgets/selector`

## 何时使用

* 弹出一个下拉菜单给用户选择操作，用于代替原生的选择器，或者需要一个更优雅的多选器时。

* 当选项少时（少于 5 项），建议直接将选项平铺，使用 Radio 是更好的选择。

## 代码演示

### 基础使用

除非下拉选单靠近窗口底部，否则会被放置在其引用元素的下方。

<code src='@/examples/selector/basic' />

[![Open in Sandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/p/github/busy-mango/react-app/main?embed=1&file=%2Fsrc%2Fexamples%2Fselector%2Fbasic.tsx&showConsole=true)

[![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/fork/github/busy-mango/react-app?file=src%2Fpages%2Findex.tsx)

### 使用多选

该组件可以处理多个选择。与单选一样，您可以通过访问 onChange 回调中的值来获取新值。

<code src='@/examples/selector/multiple' />

[![Open in Sandbox](https://codesandbox.io/static/img/play-codesandbox.svg)](https://codesandbox.io/p/github/busy-mango/react-app/main?embed=1&file=%2Fsrc%2Fexamples%2Fselector%2Fmultiple.tsx)

### 进阶使用

配合 react-query 获取远程数据。

<code src='@/examples/selector/promise' />

自定义控件UI。

<code src='@/examples/selector/custom' />

## API

| Name                 | Type                                           | Default      | Description                                                                                                                                                     |
| -------------------- | ---------------------------------------------- | ------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `autoFocus`          | `boolean`                                      | `-`          | Whether to get focus by default.                                                                                                                                |
| `clear`              | `ReactNode`                                    | `true`       | Icon for the clear button, default is true to show the default icon, set false to disable the clear button.                                                     |
| `defaultValue`       | `string`                                       | `-`          | The default value. Use when the component is not controlled.                                                                                                    |
| `filter`             | `boolean` \| `ISelectorFilterParams`           | `-`          | Option filter configuration.                                                                                                                                    |
| `iFloatingClassName` | `string`                                       | `-`          | Floating element className.                                                                                                                                     |
| `iFloatingRoot`      | `QueryFloatingRootFunc`                        | `-`          | Floating are rendered to the root by default, or you can specify the root node using this method.                                                               |
| `isLoading`          | `boolean`                                      | `false`      | Control loading UI.                                                                                                                                             |
| `initialOpen`        | `boolean`                                      | `false`      | If true, floating will open on mount.                                                                                                                           |
| `keyword`            | `string`                                       | `-`          | Control search text state.                                                                                                                                      |
| `maxHeight`          | `string`                                       | `-`          | Set scrollable height.                                                                                                                                          |
| `measure`            | `string`                                       | `false`      | If true, scrollable will auto measure item height.                                                                                                              |
| `multiple`           | `boolean`                                      | `false`      | Callbacks for expanding scrollable.                                                                                                                             |
| `open`               | `boolean`                                      | `-`          | Control floating open state.                                                                                                                                    |
| `options`            | `string`                                       | `-`          | Select options.                                                                                                                                                 |
| `pattern`            | `ControlPattern`                               | `editable`   | Setting the control interaction mode                                                                                                                            |
| `prefix`             | `ReactNode`                                    | `-`          | Customized prefix icons.                                                                                                                                        |
| `separator`          | `ReactNode`                                    | `-`          | Separators for automatic word separation                                                                                                                        |
| `size`               | `ControlUISize`                                | `"medium"`   | Selection wrap size                                                                                                                                             |
| `status`             | `ControlUIStatus`                              | `"success"`  | Setting the calibration status                                                                                                                                  |
| `suffix`             | `ReactNode`                                    | `-`          | Customized suffix icons.                                                                                                                                        |
| `value`              | `React.Key[]` \| `React.Key`                   | `-`          | The input value. Providing an null will select no options. Set to an `null` if you don't want any of the available options to be selected.                      |
| `variant`            | `"filled"` \| `"standard"` \| `"bordered"`     | `"bordered"` | Morphological variant                                                                                                                                           |
| `render.chip`        | `IOptionRender`                                | `-`          | Rendering method for chip                                                                                                                                       |
| `render.option`      | `IOptionRender`                                | `-`          | Rendering method for option                                                                                                                                     |
| `render.scrollable`  | `(props: ScrollableProps) => ReactNode`        | `-`          | Rendering method for scrollable                                                                                                                                 |
| `onChange`           | `(value?: React.Key[] \| React.Key) => void`   | `-`          | Callback fired when a menu item is selected. <br/> Warning: This is a generic event, not a change event, unless the change event is caused by browser autofill. |
| `onOpenChange`       | `(open?: boolean) => void`                     | `-`          | -                                                                                                                                                               |
| `onScroll`           | `UIEventHandler<HTMLDivElement>`               | `-`          | Callbacks when scrolling a scrollable.                                                                                                                          |
| `onSearch`           | `(value?: string) => void`                     | `-`          | Callback when search value changes.                                                                                                                             |
| `onSelect`           | `(index: number, value?: React.Key[]) => void` | `-`          | Called when selected, parameter is the value (or key) of the selected item.                                                                                     |

## Troubleshooting
